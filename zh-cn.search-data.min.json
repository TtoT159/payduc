[{"id":0,"href":"/","title":"PayducDoc","parent":"","content":""},{"id":1,"href":"/post/","title":"Post","parent":"PayducDoc","content":""},{"id":2,"href":"/post/Trade/","title":"代付文档","parent":"Post","content":"请求支付参数说明      请求URL: http://app.payduc.com/apitakecash\n  请求方式： POST\n     参数名 必填 签名 描述     version 是 是 版本 请传 1.0   customerid 是 是 用户id，请在后台查看   sdorderno 是 是 商户订单号   total_fee 是 是 付款金额 例如：10.10 单位 元   paytype 是 是 支付系统提供，请联系管理员提供   name 是 是 收款姓名，不能有汉字   account 是 是 收款账号，pix钥匙串，不能有汉字   notifyurl 是 是 付款完成通知地址   sign 是 是 md5签名，签名算法在下面：     签名算法: 由以下字符串md5后得到   version=1.0\u0026amp;customerid={customerid}\u0026amp;total_fee={total_fee}\u0026amp;sdorderno={sdorderno}\u0026amp;account={account}\u0026amp;name={name}\u0026amp;notifyurl={notifyurl}\u0026amp;{userkey}\n 其中 customerid 【接入编号】 userkey 【接入密钥】可在用户后台 [接入信息] 中查看，其他根据上述参数说明提供\nphp 示例代码：\n$version=\u0026#39;1.0\u0026#39;; $customerid=$userid; $sdorderno=time()+mt_rand(1000,9999); $notifyurl=\u0026#39;http://\u0026#39;.$_SERVER[\u0026#39;HTTP_HOST\u0026#39;].\u0026#39;/demo_se/takecash_notify.php\u0026#39;; $paytype= \u0026#39;soonsebaxi\u0026#39;; $account=strip_tags($_POST[\u0026#39;account\u0026#39;]); $name=strip_tags($_POST[\u0026#39;name\u0026#39;]); $total_fee=floatval($_POST[\u0026#39;total_fee\u0026#39;]); if ($total_fee\u0026lt;=0)die(); $signStr = \u0026#39;version=\u0026#39; . $version . \u0026#39;\u0026amp;customerid=\u0026#39; . $customerid . \u0026#39;\u0026amp;total_fee=\u0026#39; . $total_fee . \u0026#39;\u0026amp;sdorderno=\u0026#39; . $sdorderno . \u0026#39;\u0026amp;account=\u0026#39; . $account.\u0026#39;\u0026amp;name=\u0026#39; . $name. \u0026#39;\u0026amp;notifyurl=\u0026#39; . $notifyurl . \u0026#39;\u0026amp;\u0026#39; .$userkey; $data=array( \u0026#39;version\u0026#39;=\u0026gt;$version,//写死1.0  \u0026#39;customerid\u0026#39;=\u0026gt;$customerid,//用户id  \u0026#39;total_fee\u0026#39;=\u0026gt;$total_fee,//付款金额  \u0026#39;sdorderno\u0026#39;=\u0026gt;$sdorderno,//自己系统的订单号  \u0026#39;paytype\u0026#39;=\u0026gt; $paytype,//付款类型，由支付系统后台创建后提供给你  \u0026#39;name\u0026#39;=\u0026gt;$name,//收款姓名，不能有汉字  \u0026#39;account\u0026#39;=\u0026gt;$account,//收款账号，pix钥匙串，不能有汉字  \u0026#39;notifyurl\u0026#39;=\u0026gt;$notifyurl,//付款完成回调地址  \u0026#39;sign\u0026#39;=\u0026gt;md5($signStr),//签名  ); $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, \u0026#39;http://doc.iibro.com/apitakecash\u0026#39;); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_POST, 1); curl_setopt($ch, CURLOPT_POSTFIELDS, $data); $output = curl_exec($ch); var_dump($output); curl_close($ch);  返回参数说明   返回为json字符串，有以下参数\n    参数名 必填 签名 描述     status 是 是 申请状态 1 为成功 910 为已接受请求，系统处理失败，会有人工完成后续操作 其他均为申请失败，如余额不足906等   msg 是 是 失败或成功对应消息    付款完成返回跳转参数说明【notifyurl】     成功处理完成时 请返回 success 字符 不能有其他数据\n  请求方式： POST     参数名 必填 签名 描述     status 是 是 支付状态 1 成功 0 失败   customerid 是 是 用户id，跟请求支付时 customerid 一致   sdorderno 是 是 商户订单号，跟求支付时的 sdorderno 一致   total_fee 是 是 付款金额 例如：10.10 单位 元   paytype 是 是 支付系统提供   sdpayno 是 是 支付系统内部单号   sign 是 是 md5签名     签名算法: 由以下字符串md5后得到   customerid={customerid}\u0026amp;status={status}\u0026amp;sdpayno={sdpayno}\u0026amp;sdorderno={sdorderno}\u0026amp;total_fee={total_fee}\u0026amp;paytype={paytype}\u0026amp;{userkey}\n 其中 userkey 【接入密钥】可在用户后台 [接入信息] 中查看,其他由POST请求获取\nphp代码示例：\n$status=$_POST[\u0026#39;status\u0026#39;]; $customerid=$_POST[\u0026#39;customerid\u0026#39;]; $total_fee=$_POST[\u0026#39;total_fee\u0026#39;]; $paytype=$_POST[\u0026#39;paytype\u0026#39;]; $sdpayno=$_POST[\u0026#39;sdpayno\u0026#39;]; $sdorderno=$_POST[\u0026#39;sdorderno\u0026#39;]; $sign=$_POST[\u0026#39;sign\u0026#39;]; //签名验证方式，固定为以下 $signstr = \u0026#39;customerid=\u0026#39; . $customerid . \u0026#39;\u0026amp;status=\u0026#39; .$status . \u0026#39;\u0026amp;sdpayno=\u0026#39; . $sdpayno . \u0026#39;\u0026amp;sdorderno=\u0026#39; .$sdorderno . \u0026#39;\u0026amp;total_fee=\u0026#39; . $total_fee. \u0026#39;\u0026amp;paytype=\u0026#39; . $paytype. \u0026#39;\u0026amp;\u0026#39; . $userkey; $mysign=md5($signstr); if($sign==$mysign){ if($status==\u0026#39;1\u0026#39;){ //完成付款后，这里完成你系统的内部逻辑  echo \u0026#39;success\u0026#39;;//请返回字符串，不能有其他输出  } else { //付款失败，这里完成你系统失败后逻辑  echo \u0026#39;fail\u0026#39;; } } else { echo \u0026#39;signerr\u0026#39;; } "},{"id":3,"href":"/post/Pay/","title":"支付文档","parent":"Post","content":"请求支付参数说明      请求URL: http://app.payduc.com/apisubmit\n  请求方式： POST\n     参数名 必填 签名 描述     version 是 是 版本 请传 1.0   customerid 是 是 用户id，请在后台查看   sdorderno 是 是 商户订单号   total_fee 是 是 付款金额 例如：10.10 单位 元   paytype 是 是 支付系统提供，请联系管理员提供   notifyurl 是 是 后台回调通知地址   returnurl 是 是 完成支付跳转地址   remark 是 是 备注   bankcode 是 是 仅银行付款可用，请传空字符串   sign 是 是 md5签名，签名算法在下面：     签名算法: 由以下字符串md5后得到   version=1.0\u0026amp;customerid={customerid}\u0026amp;total_fee={total_fee}\u0026amp;sdorderno={sdorderno}\u0026amp;notifyurl={notifyurl}\u0026amp;returnurl={returnurl}\u0026amp;{userkey}\n 其中 customerid 【接入编号】 userkey 【接入密钥】可在用户后台 [接入信息] 中查看，其他根据上述参数说明提供\nphp 签名示例代码：\n$sign=md5(\u0026#39;version=\u0026#39;.$version.\u0026#39;\u0026amp;customerid=\u0026#39;.$customerid.\u0026#39;\u0026amp;total_fee=\u0026#39;.$total_fee.\u0026#39;\u0026amp;sdorderno=\u0026#39;.$sdorderno.\u0026#39;\u0026amp;notifyurl=\u0026#39;.$notifyurl.\u0026#39;\u0026amp;returnurl=\u0026#39;.$returnurl.\u0026#39;\u0026amp;\u0026#39;.$userkey); 请求支付html示例:\n\u0026lt;form name=\u0026#34;pay\u0026#34; action=\u0026#34;http://app.payduc.com/apisubmit\u0026#34; method=\u0026#34;post\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;hidden\u0026#34; name=\u0026#34;version\u0026#34; value=\u0026#34;1.0\u0026#34;\u0026gt;\u0026lt;!-- 版本 字符串 1.0 固定 --\u0026gt; \u0026lt;input type=\u0026#34;hidden\u0026#34; name=\u0026#34;customerid\u0026#34; value=\u0026#34;\u0026lt;?php echo $customerid?\u0026gt;\u0026#34;\u0026gt;\u0026lt;!-- 用户id 查看用户后台获得 --\u0026gt; \u0026lt;input type=\u0026#34;hidden\u0026#34; name=\u0026#34;sdorderno\u0026#34; value=\u0026#34;\u0026lt;?php echo $sdorderno?\u0026gt;\u0026#34;\u0026gt;\u0026lt;!-- 你系统的单号 --\u0026gt; \u0026lt;input type=\u0026#34;hidden\u0026#34; name=\u0026#34;total_fee\u0026#34; value=\u0026#34;\u0026lt;?php echo $total_fee?\u0026gt;\u0026#34;\u0026gt;\u0026lt;!-- 支付金额 --\u0026gt; \u0026lt;input type=\u0026#34;hidden\u0026#34; name=\u0026#34;paytype\u0026#34; value=\u0026#34;\u0026lt;?php echo $paytype?\u0026gt;\u0026#34;\u0026gt;\u0026lt;!-- 支付类型 请联系管理员提供此字符串 --\u0026gt; \u0026lt;input type=\u0026#34;hidden\u0026#34; name=\u0026#34;notifyurl\u0026#34; value=\u0026#34;\u0026lt;?php echo $notifyurl?\u0026gt;\u0026#34;\u0026gt;\u0026lt;!-- 支付完成后，支付系统通知地址 --\u0026gt; \u0026lt;input type=\u0026#34;hidden\u0026#34; name=\u0026#34;returnurl\u0026#34; value=\u0026#34;\u0026lt;?php echo $returnurl?\u0026gt;\u0026#34;\u0026gt;\u0026lt;!-- 支付完成后返回地址 --\u0026gt; \u0026lt;input type=\u0026#34;hidden\u0026#34; name=\u0026#34;remark\u0026#34; value=\u0026#34;\u0026lt;?php echo $remark?\u0026gt;\u0026#34;\u0026gt;\u0026lt;!-- 订单备注 --\u0026gt; \u0026lt;input type=\u0026#34;hidden\u0026#34; name=\u0026#34;bankcode\u0026#34; value=\u0026#34;\u0026lt;?php echo $bankcode?\u0026gt;\u0026#34;\u0026gt;\u0026lt;!-- 仅银行付款时提供，目前传空字符串 --\u0026gt; \u0026lt;input type=\u0026#34;hidden\u0026#34; name=\u0026#34;sign\u0026#34; value=\u0026#34;\u0026lt;?php echo $sign?\u0026gt;\u0026#34;\u0026gt;\u0026lt;!-- 签名 --\u0026gt; \u0026lt;/form\u0026gt; 付款完成返回跳转参数说明【returnurl】     请求方式： GET     参数名 必填 签名 描述     status 是 是 支付状态 1 成功 0 失败   customerid 是 是 用户id，跟请求支付时 customerid 一致   sdorderno 是 是 商户订单号，跟求支付时的 sdorderno 一致   total_fee 是 是 付款金额 例如：10.10 单位 元   paytype 是 是 支付系统提供   sdpayno 是 是 支付系统内部单号   remark 否 否 备注   sign 是 是 md5签名     签名算法: 由以下字符串md5后得到   customerid={customerid}\u0026amp;status={status}\u0026amp;sdpayno={sdpayno}\u0026amp;sdorderno={sdorderno}\u0026amp;total_fee={total_fee}\u0026amp;paytype={paytype}\u0026amp;{userkey}\n 其中 userkey 【接入密钥】可在用户后台 [接入信息] 中查看,其他由GET请求获取\nphp校验代码示例：\n$status=$_GET[\u0026#39;status\u0026#39;]; $customerid=$_GET[\u0026#39;customerid\u0026#39;]; $sdorderno=$_GET[\u0026#39;sdorderno\u0026#39;]; $total_fee=$_GET[\u0026#39;total_fee\u0026#39;]; $paytype=$_GET[\u0026#39;paytype\u0026#39;]; $sdpayno=$_GET[\u0026#39;sdpayno\u0026#39;]; $remark=$_GET[\u0026#39;remark\u0026#39;]; $sign=$_GET[\u0026#39;sign\u0026#39;]; $mysign=\u0026#39;customerid=\u0026#39;.$customerid.\u0026#39;\u0026amp;status=\u0026#39;.$status.\u0026#39;\u0026amp;sdpayno=\u0026#39;.$sdpayno.\u0026#39;\u0026amp;sdorderno=\u0026#39;.$sdorderno.\u0026#39;\u0026amp;total_fee=\u0026#39;.$total_fee.\u0026#39;\u0026amp;paytype=\u0026#39;.$paytype.\u0026#39;\u0026amp;\u0026#39;.$userkey; $mysign=md5($mysign); if($sign==$mysign){ if($status==\u0026#39;1\u0026#39;){ //这里在你系统完成支付成功后的处理  echo \u0026#39;付款成功\u0026#39;; } else { //这里在你系统完成支付失败后的处理  echo \u0026#39;fail\u0026#39;; } } else { echo \u0026#39;sign error\u0026#39;; } 后台通知完成支付参数说明【notifyurl】     成功处理完成时 请返回 success 字符 不能有其他数据\n  请求方式： POST     参数名 必填 签名 描述     status 是 是 支付状态 1 成功 0 失败   customerid 是 是 用户id，跟请求支付时 customerid 一致   sdorderno 是 是 商户订单号，跟求支付时的 sdorderno 一致   total_fee 是 是 付款金额 例如：10.10 单位 元   paytype 是 是 支付系统提供   sdpayno 是 是 支付系统内部单号   remark 否 否 备注   sign 是 是 md5签名     签名算法: 由以下字符串md5后得到   customerid={customerid}\u0026amp;status={status}\u0026amp;sdpayno={sdpayno}\u0026amp;sdorderno={sdorderno}\u0026amp;total_fee={total_fee}\u0026amp;paytype={paytype}\u0026amp;{userkey}\n 其中 userkey 【接入密钥】可在用户后台 [接入信息] 中查看,其他由POST请求获取\nphp校验代码示例：\n$status=$_POST[\u0026#39;status\u0026#39;]; $customerid=$_POST[\u0026#39;customerid\u0026#39;]; $sdorderno=$_POST[\u0026#39;sdorderno\u0026#39;]; $total_fee=$_POST[\u0026#39;total_fee\u0026#39;]; $paytype=$_POST[\u0026#39;paytype\u0026#39;]; $sdpayno=$_POST[\u0026#39;sdpayno\u0026#39;]; $remark=$_POST[\u0026#39;remark\u0026#39;]; $sign=$_POST[\u0026#39;sign\u0026#39;]; $mysign=md5(\u0026#39;customerid=\u0026#39;.$customerid.\u0026#39;\u0026amp;status=\u0026#39;.$status.\u0026#39;\u0026amp;sdpayno=\u0026#39;.$sdpayno.\u0026#39;\u0026amp;sdorderno=\u0026#39;.$sdorderno.\u0026#39;\u0026amp;total_fee=\u0026#39;.$total_fee.\u0026#39;\u0026amp;paytype=\u0026#39;.$paytype.\u0026#39;\u0026amp;\u0026#39;.$userkey); if($sign==$mysign){ if($status==\u0026#39;1\u0026#39;){ //这里在你系统完成支付成功后的处理  echo \u0026#39;success\u0026#39;;//注意，完成时请输出此字符串，不能有其他信息输出  } else { //这里在你系统完成支付失败后的处理  echo \u0026#39;fail\u0026#39;; } } else { echo \u0026#39;signerr\u0026#39;; } "},{"id":4,"href":"/tags/","title":"Tags","parent":"PayducDoc","content":""}]